<!DOCTYPE html><html><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
<title>å‰ç«¯ç•Œé¢ Modal çš„æ§åˆ¶ | æ–‡è”ºçš„åšå®¢</title>
<style>:root{--bg-main:#fff;--bg-intro:#f6f9fa;--bg-code-inline:#f2f2f2;--bg-code-block:#fff;--bg-blockquote:#f8f8f8;--bg-tips-expire:#ffffc0;--bg-tips-aliyun:#f0f8f4;--bg-search-btn:#e7e7e7;--bg-search-no-result:#fff4c2;--bg-search-type:#eee;--bg-firekylin-code:#fff;--bg-firekylin-code-even:#fcfcfc;--bg-firekylin-code-hover:#f3f3f3;--bg-firekylin-code-mark:#fffbdd;--bg-firekylin-code-wrap:#eee;--bg-diff-add:#eaffea;--bg-diff-del:#ffecec;--bg-article-mobile:#fff;--text-primary:#666;--text-heading:#333;--text-secondary:#999;--text-meta:#555;--text-code:#5d6a6a;--text-search-highlight:#c00;--text-search-info:#676767;--text-search-tag:#666;--text-footer-beian:#666;--color-link:#2479cc;--color-link-tag-border:rgba(36,121,204,.8);--border-main:#ddd;--border-light:#fff;--border-code:#ccc;--border-search:#bbb;--border-table-head:#848484;--border-table-cell:#d0d0d0;--border-img:#ccc;--border-tips-expire:#e2e2e2;--border-tips-expire-left:#fff000;--border-tips-aliyun:#e2e2e2;--border-tips-aliyun-left:#7cc4a0;--border-search-no-result:#fc3;--border-firekylin-code:#ddd;--text-code-name:#eee;--color-progress:#d59613;--bg-sidebar-mask:hsla(0,0%,100%,0);--hljs-bg:#fff;--hljs-text:#333;--hljs-comment:#969896;--hljs-string:#df5000;--hljs-keyword:#a71d5d;--hljs-number:#0086b3;--hljs-tag:#63a35c;--hljs-variable:#333;--hljs-title:#795da3;--hljs-reserved:#1d3e81;--hljs-diff-add:#55a532;--hljs-diff-del:#bd2c00}[data-theme=dark]{--bg-main:#1a1b26;--bg-intro:#24253a;--bg-code-inline:#2d2f44;--bg-code-block:#282a3a;--bg-blockquote:#22233a;--bg-tips-expire:#3a3520;--bg-tips-aliyun:#1e2e26;--bg-search-btn:#2a2b3d;--bg-search-no-result:#3a3520;--bg-search-type:#2a2b3d;--bg-firekylin-code:#282a3a;--bg-firekylin-code-even:#2c2e40;--bg-firekylin-code-hover:#33355a;--bg-firekylin-code-mark:#3a3520;--bg-firekylin-code-wrap:#2d2f44;--bg-diff-add:#1a2e1a;--bg-diff-del:#2e1a1a;--bg-article-mobile:#1a1b26;--text-primary:#a9b1d6;--text-heading:#c0caf5;--text-secondary:#737aa2;--text-meta:#9aa5ce;--text-code:#c0caf5;--text-search-highlight:#f7768e;--text-search-info:#9aa5ce;--text-search-tag:#a9b1d6;--text-footer-beian:#a9b1d6;--color-link:#7aa2f7;--color-link-tag-border:rgba(122,162,247,.8);--border-main:#33355a;--border-light:#24253a;--border-code:#33355a;--border-search:#33355a;--border-table-head:#565f89;--border-table-cell:#33355a;--border-img:#33355a;--border-tips-expire:#3a3520;--border-tips-expire-left:#e0af68;--border-tips-aliyun:#1e2e26;--border-tips-aliyun-left:#9ece6a;--border-search-no-result:#e0af68;--border-firekylin-code:#33355a;--text-code-name:#2a2b3d;--color-progress:#e0af68;--bg-sidebar-mask:rgba(0,0,0,.5);--hljs-bg:#282a3a;--hljs-text:#c0caf5;--hljs-comment:#6b7394;--hljs-string:#9ece6a;--hljs-keyword:#bb9af7;--hljs-number:#ff9e64;--hljs-tag:#73daca;--hljs-variable:#c0caf5;--hljs-title:#7aa2f7;--hljs-reserved:#7dcfff;--hljs-diff-add:#9ece6a;--hljs-diff-del:#f7768e}body{background-color:var(--bg-main);color:var(--text-primary);margin:0;padding:0;-webkit-text-size-adjust:none;transition:transform .2s cubic-bezier(.4,.01,.165,.99);-webkit-tap-highlight-color:transparent;font-family:Helvetica Neue,Arial,Hiragino Sans GB,STHeiti,Microsoft YaHei;-webkit-font-smoothing:antialiased;-webkit-overflow-scrolling:touch}body,html{height:100%;width:100%}h1,h2,h3,h4,h5,h6{margin:0;padding:0}a,a:hover{color:var(--color-link);text-decoration:none}ol,ul{padding:0}*{box-sizing:border-box}body.side{position:fixed;transform:translate3D(250px,0,0)}#main{background-color:var(--bg-main);max-width:1390px;padding-left:290px;padding-right:40px;-webkit-overflow-scrolling:touch}h1.intro{background-color:var(--bg-intro);color:var(--text-secondary);padding:20px 30px;text-align:center}textarea.codespan,textarea.pre-area{display:none}.nuxt-progress{background-color:var(--color-progress)!important}@font-face{font-family:iconfont;src:url(/_nuxt/iconfont.CmbQAa6e.eot);src:url(/_nuxt/iconfont.CmbQAa6e.eot?#iefix) format("embedded-opentype"),url(/_nuxt/iconfont.DzG65zpK.ttf) format("truetype"),url(/_nuxt/iconfont.BPH69LT9.svg#iconfont) format("svg")}.iconfont{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-webkit-text-stroke-width:.2px;-moz-osx-font-smoothing:grayscale}.icon-weibo:before{content:"î˜€"}.icon-archive:before{content:"î˜"}.icon-user:before{content:"î˜‚"}.icon-rss-v:before{content:"î˜ƒ"}.icon-tags:before{content:"î˜„"}.icon-home:before{content:"î˜…"}.icon-search:before{content:"î˜†"}.icon-googleplus:before{content:"î˜‡"}.icon-weixin:before{content:"î˜ˆ"}.icon-mail:before{content:"î˜‰"}.icon-twitter-v:before{content:"î˜Š"}.icon-linkedin:before{content:"î˜‹"}.icon-stackoverflow:before{content:"î˜Œ"}.icon-github-v:before{content:"î˜"}.icon-facebook:before{content:"î˜"}.icon-right:before{content:"î˜"}.icon-left:before{content:"î˜"}.icon-link:before{content:"î˜‘"}.icon-https:before{content:"î˜’"}.hljs{background:var(--hljs-bg);color:var(--hljs-text);display:block;overflow-x:auto;padding:.5em;-webkit-text-size-adjust:none}.hljs-comment,.lang-bash .hljs-shebang,.lang-java .hljs-javadoc,.lang-javascript .hljs-javadoc,.lang-rust .hljs-preprocessor{color:var(--hljs-comment)}.hljs-string,.lang-apache .hljs-sqbracket,.lang-c .hljs-preprocessor,.lang-coffeescript .hljs-regexp,.lang-coffeescript .hljs-subst,.lang-cpp .hljs-preprocessor,.lang-javascript .hljs-regexp,.lang-json .hljs-attribute,.lang-less .hljs-built_in,.lang-makefile .hljs-variable,.lang-markdown .hljs-blockquote,.lang-markdown .hljs-emphasis,.lang-markdown .hljs-link_label,.lang-markdown .hljs-strong,.lang-markdown .hljs-value,.lang-nginx .hljs-number,.lang-nginx .hljs-regexp,.lang-objectivec .hljs-preprocessor .hljs-title,.lang-perl .hljs-regexp,.lang-php .hljs-regexp,.lang-scss .hljs-built_in,.lang-xml .hljs-value{color:var(--hljs-string)}.hljs-keyword,.lang-css .hljs-at_rule,.lang-css .hljs-important,.lang-go .hljs-typename,.lang-haskell .hljs-type,.lang-http .hljs-request,.lang-ini .hljs-setting,.lang-java .hljs-javadoctag,.lang-javascript .hljs-javadoctag,.lang-javascript .hljs-tag,.lang-less .hljs-at_rule,.lang-less .hljs-tag,.lang-nginx .hljs-title,.lang-objectivec .hljs-preprocessor,.lang-php .hljs-phpdoc,.lang-scss .hljs-at_rule,.lang-scss .hljs-important,.lang-scss .hljs-tag,.lang-sql .hljs-built_in,.lang-stylus .hljs-at_rule,.lang-swift .hljs-preprocessor{color:var(--hljs-keyword)}.lang-apache .hljs-cbracket,.lang-apache .hljs-common,.lang-apache .hljs-keyword,.lang-bash .hljs-built_in,.lang-bash .hljs-literal,.lang-c .hljs-built_in,.lang-c .hljs-number,.lang-coffeescript .hljs-built_in,.lang-coffeescript .hljs-literal,.lang-coffeescript .hljs-number,.lang-cpp .hljs-built_in,.lang-cpp .hljs-number,.lang-cs .hljs-built_in,.lang-cs .hljs-number,.lang-css .hljs-attribute,.lang-css .hljs-function,.lang-css .hljs-hexcolor,.lang-css .hljs-number,.lang-go .hljs-built_in,.lang-go .hljs-constant,.lang-haskell .hljs-number,.lang-http .hljs-attribute,.lang-http .hljs-literal,.lang-java .hljs-number,.lang-javascript .hljs-built_in,.lang-javascript .hljs-literal,.lang-javascript .hljs-number,.lang-json .hljs-number,.lang-less .hljs-attribute,.lang-less .hljs-function,.lang-less .hljs-hexcolor,.lang-less .hljs-number,.lang-makefile .hljs-keyword,.lang-markdown .hljs-link_reference,.lang-nginx .hljs-built_in,.lang-objectivec .hljs-built_in,.lang-objectivec .hljs-literal,.lang-objectivec .hljs-number,.lang-php .hljs-literal,.lang-php .hljs-number,.lang-puppet .hljs-function,.lang-python .hljs-number,.lang-ruby .hljs-constant,.lang-ruby .hljs-number,.lang-ruby .hljs-prompt,.lang-ruby .hljs-subst .hljs-keyword,.lang-ruby .hljs-symbol,.lang-rust .hljs-number,.lang-scss .hljs-attribute,.lang-scss .hljs-function,.lang-scss .hljs-hexcolor,.lang-scss .hljs-number,.lang-scss .hljs-preprocessor,.lang-sql .hljs-number,.lang-stylus .hljs-attribute,.lang-stylus .hljs-hexcolor,.lang-stylus .hljs-number,.lang-stylus .hljs-params,.lang-swift .hljs-built_in,.lang-swift .hljs-number{color:var(--hljs-number)}.lang-apache .hljs-tag,.lang-cs .hljs-xmlDocTag,.lang-css .hljs-tag,.lang-stylus .hljs-tag,.lang-xml .hljs-title{color:var(--hljs-tag)}.lang-bash .hljs-variable,.lang-cs .hljs-preprocessor,.lang-cs .hljs-preprocessor .hljs-keyword,.lang-css .hljs-attr_selector,.lang-css .hljs-value,.lang-ini .hljs-keyword,.lang-ini .hljs-value,.lang-javascript .hljs-tag .hljs-title,.lang-makefile .hljs-constant,.lang-nginx .hljs-variable,.lang-scss .hljs-variable,.lang-xml .hljs-tag{color:var(--hljs-variable)}.lang-bash .hljs-title,.lang-c .hljs-title,.lang-coffeescript .hljs-title,.lang-cpp .hljs-title,.lang-cs .hljs-title,.lang-css .hljs-class,.lang-css .hljs-id,.lang-css .hljs-pseudo,.lang-diff .hljs-chunk,.lang-haskell .hljs-pragma,.lang-haskell .hljs-title,.lang-ini .hljs-title,.lang-java .hljs-title,.lang-javascript .hljs-title,.lang-less .hljs-class,.lang-less .hljs-id,.lang-less .hljs-pseudo,.lang-makefile .hljs-title,.lang-objectivec .hljs-title,.lang-perl .hljs-sub,.lang-php .hljs-title,.lang-puppet .hljs-title,.lang-python .hljs-decorator,.lang-python .hljs-title,.lang-ruby .hljs-parent,.lang-ruby .hljs-title,.lang-rust .hljs-title,.lang-scss .hljs-class,.lang-scss .hljs-id,.lang-scss .hljs-pseudo,.lang-stylus .hljs-class,.lang-stylus .hljs-id,.lang-stylus .hljs-pseudo,.lang-stylus .hljs-title,.lang-swift .hljs-title,.lang-xml .hljs-attribute{color:var(--hljs-title)}.lang-coffeescript .hljs-attribute,.lang-coffeescript .hljs-reserved{color:var(--hljs-reserved)}.lang-diff .hljs-chunk{font-weight:700}.lang-diff .hljs-addition{background-color:var(--bg-diff-add);color:var(--hljs-diff-add)}.lang-diff .hljs-deletion{background-color:var(--bg-diff-del);color:var(--hljs-diff-del)}.lang-markdown .hljs-link_url{text-decoration:underline}#sidebar{background-color:#202020;height:100%;left:0;overflow:auto;position:fixed;top:0;width:250px;z-index:1;-webkit-overflow-scrolling:touch}#sidebar li,#sidebar ul{list-style:none;margin:0;padding:0}#sidebar .profile{padding-bottom:10px;padding-top:40px}#sidebar .profile a,#sidebar .profile img{border-radius:70px;height:140px;overflow:hidden;width:140px}#sidebar .profile a{display:block;margin:0 auto}#sidebar .profile span{color:#999;display:block;font-size:18px;padding:10px 0;text-align:center}#sidebar .buttons{margin:0 0 20px}#sidebar .buttons li{display:block;font-size:16px;height:45px;line-height:45px;width:100%}#sidebar .buttons li a{color:#999;display:block;padding-left:25px;text-decoration:none;transition:color .2s cubic-bezier(.4,.01,.165,.99)}#sidebar .buttons li a i,#sidebar .buttons li a span{display:inline-block;vertical-align:middle}#sidebar .buttons li a i{font-size:20px;height:45px;line-height:45px;margin-right:20px;text-align:center;width:25px}#sidebar .buttons li a:hover{color:#999c}#sidebar .buttons li a.inline{display:inline-block;width:40px}#sidebar-mask{background-color:var(--bg-sidebar-mask);display:none;inset:0;overflow:hidden;position:absolute;z-index:999}#header{background-color:#323436;display:none;height:50px;left:0;line-height:50px;overflow:hidden;position:fixed;top:0;width:100%;z-index:9}body.side #header .btn-bar:before{top:25px;transform:rotate(-45deg);width:24px}body.side #header .btn-bar:after{bottom:24px;transform:rotate(45deg);width:24px}body.side #header .btn-bar i{opacity:0}#header h1{font-size:16px;text-align:center}#header h1 a{color:#999}#header .btn-bar{height:50px;left:0;position:absolute;top:0;width:50px}#header .btn-bar i,#header .btn-bar:after,#header .btn-bar:before{background-color:#999;height:1px;left:14px;position:absolute;transition:all .2s cubic-bezier(.4,.01,.165,.99) .3s;width:22px}#header .btn-bar i{opacity:1;top:25px}#header .btn-bar:before{content:"";top:17px}#header .btn-bar:after{bottom:16px;content:""}#header a.me,#header a.me img{border-radius:30px;height:30px;overflow:hidden;width:30px}#header a.me{position:absolute;right:10px;top:10px}.pagination{border-bottom:1px solid var(--border-main);border-top:1px solid var(--border-light);line-height:20px;overflow:hidden;padding:20px 0;position:relative;width:100%}.pagination .next,.pagination .prev{max-width:45%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.pagination .prev{float:left}.pagination .next{float:right}.pagination .center{margin:auto;text-align:center;width:80px}article{border-bottom:1px solid var(--border-main);border-top:1px solid var(--border-light);padding:30px 0;position:relative;word-wrap:break-word}article .meta{color:var(--text-meta);float:right;font-size:.9em;line-height:2;position:relative;text-align:right;width:auto}article .meta a{color:var(--text-secondary)}article .meta .comment,article .meta .date,article .meta .tags{position:relative}article h1.title{font-size:2em;font-weight:300;line-height:35px;margin-bottom:25px}article h1.title,article h1.title a{color:var(--text-heading)}article h1.title a:hover{color:var(--color-link);transition:color .3s}article strong{font-weight:700}article em{font-style:italic}article blockquote{background-color:var(--bg-blockquote);border-left:5px solid var(--color-link);margin:10px 0 0;padding:15px 20px}article blockquote p{margin-bottom:0}article blockquote a{word-break:break-all;word-wrap:break-word}article code{background-color:var(--bg-code-inline);border-radius:5px;font-family:Consolas,Courier New,Courier,mono,serif;font-size:80%;margin:0 2px;padding:4px 5px;vertical-align:middle}article pre{border-left:5px solid var(--border-code);color:var(--text-code);font-family:Consolas,Liberation Mono,Courier,monospace;font-size:14px;line-height:1.6;padding:.6em;word-break:break-all;word-wrap:break-word;overflow:hidden;position:relative;white-space:pre-wrap}article pre code{background-color:transparent;border:0;border-radius:0;display:block;font-size:100%;margin:0;padding:0;position:relative}article pre b.name{color:var(--text-code-name);font-size:60px;line-height:1;pointer-events:none;position:absolute;right:10px;top:10px}@media screen and (max-width:768px){article pre b.name{font-size:30px}}article img{border:1px solid var(--border-img);display:block;margin:10px 0 5px;max-width:100%;padding:0}article table{border:0;border-collapse:collapse;border-spacing:0}article table td,article table th{border:0}article table th{border-bottom:2px solid var(--border-table-head);padding:6px 20px;text-align:left}article table td{border-bottom:1px solid var(--border-table-cell);padding:6px 20px}article .expire-tips{background-color:var(--bg-tips-expire);border:1px solid var(--border-tips-expire);border-left:5px solid var(--border-tips-expire-left);color:var(--text-heading);font-size:15px;padding:5px 10px}article .aliyun-tips{background-color:var(--bg-tips-aliyun);border:1px solid var(--border-tips-aliyun);border-left:5px solid var(--border-tips-aliyun-left);font-size:15px;padding:5px 10px}article .post-info{font-size:14px}article .entry-content{font-size:16px;line-height:1.8;word-wrap:break-word}article .entry-content .date{color:var(--text-secondary);font-size:14px;font-style:italic}article .entry-content blockquote,article .entry-content dl,article .entry-content h1,article .entry-content h2,article .entry-content h3,article .entry-content h4,article .entry-content h5,article .entry-content h6,article .entry-content iframe,article .entry-content ol,article .entry-content p,article .entry-content pre,article .entry-content table,article .entry-content ul{margin-top:15px}article .entry-content blockquote>p:first-of-type,article .entry-content dl dl,article .entry-content dl ol,article .entry-content dl ul,article .entry-content ol dl,article .entry-content ol ol,article .entry-content ol ul,article .entry-content ul dl,article .entry-content ul ol,article .entry-content ul ul{margin-top:0}article .entry-content dl,article .entry-content ol,article .entry-content ul{margin-left:25px}article.tags section a{border:1px solid var(--color-link-tag-border);border-radius:4px;color:var(--color-link-tag-border);display:inline-block;font-size:14px;height:40px;line-height:40px;margin:0 15px 10px 0;padding:0 15px;text-decoration:none;transition:color .2s cubic-bezier(.4,.01,.165,.99),border .2s cubic-bezier(.4,.01,.165,.99)}article.tags section a:hover{border-color:var(--color-link);color:var(--color-link)}a.anchor{display:block;position:relative;visibility:hidden}article .firekylin-code>ul{background-color:var(--bg-firekylin-code);list-style:decimal;margin:0 0 0 40px;padding:0}article .firekylin-code li{border-left:1px solid var(--border-firekylin-code);list-style:decimal-leading-zero;padding-left:2px;position:relative}article .firekylin-code li.mark{background-color:var(--bg-firekylin-code-mark)!important}article .firekylin-code li:hover{background-color:var(--bg-firekylin-code-hover)!important}article .firekylin-code .line-num{cursor:pointer;height:100%;left:-40px;position:absolute;top:0;width:40px}article .firekylin-code li:nth-of-type(2n){background-color:var(--bg-firekylin-code-even);color:inherit}article .entry-content pre .firekylin-code{background-color:var(--bg-firekylin-code-wrap)}#search .wrapper{margin-right:72px}#search form{position:relative}#search .wrapper input{background-color:var(--bg-main);box-sizing:border-box;color:var(--text-primary);padding:4px 6px;width:100%}#search .submit,#search .wrapper input{-webkit-appearance:none;border:1px solid var(--border-search);border-radius:0;display:block;font-size:16px;height:40px;outline:0}#search .submit{background-color:var(--bg-search-btn);border-left:0;color:var(--text-heading);position:absolute;right:0;top:0;width:72px}#searchResult{min-height:350px;overflow-x:hidden}#searchResult .info{border-bottom:1px solid var(--border-main);color:var(--text-search-info);font-size:13px;padding:15px 0}#searchResult .no-result{background-color:var(--bg-search-no-result);border:1px solid var(--border-search-no-result);font-size:13px;margin:15px 0;padding:5px}#searchResult .hot-words,#searchResult .loading{margin-top:20px}#searchResult .hot-words a{margin-right:20px}#searchResult .item{padding:.5em 0 .3em}#searchResult .item .title a{font-size:16px;text-decoration:underline}#searchResult .item .title .type{background-color:var(--bg-search-type);border-radius:3px;color:var(--text-secondary);display:inline-block;font-size:13px;margin-right:8px;padding:0 5px}#searchResult .item .desc{font-size:14px;line-height:1.6}#searchResult .item .tags{font-size:14px;line-height:1.8}#searchResult .item .tags a{color:var(--text-search-tag);margin-right:12px}#searchResult .item .desc b,#searchResult .item .title b{color:var(--text-search-highlight);font-weight:400}#footer{border-top:1px solid var(--border-light);font-size:.9em;line-height:1.8;padding:15px;text-align:center}#footer .beian{color:var(--text-footer-beian)}#comments{border-bottom:1px solid var(--border-main);border-top:1px solid var(--border-light);min-height:350px;padding:30px 0}#comments h1.title{font-size:25px;font-weight:300;line-height:35px;margin-bottom:20px}@media screen and (max-width:768px){#header{display:block;transform:translateZ(0);transition:all .2s cubic-bezier(.4,.01,.165,.99)}a.anchor{top:-50px}#sidebar.behavior_1{transform:translate3D(-250px,0,0)}#sidebar.behavior_2{transform:translateZ(0)}#sidebar{transition:transform .2s cubic-bezier(.4,.01,.165,.99)}#sidebar .profile{padding-bottom:20px;padding-top:20px}#sidebar .profile a,#sidebar .profile img{border-radius:100px;height:100px;width:100px}#sidebar .profile span{display:none}}@media screen and (min-width:769px)and (max-width:1024px){#sidebar{width:75px}#sidebar .profile{padding-top:20px}#sidebar .profile a,#sidebar .profile img{border-radius:40px;height:40px;width:40px}#sidebar .profile span{display:none}#sidebar .buttons li a{padding:0}#sidebar .buttons li a.inline{width:100%}#sidebar .buttons li a i{display:block;font-size:18px;margin:0 auto}#sidebar .buttons li a span{display:none}}@media screen and (min-width:768px)and (max-width:1024px){#main{padding-left:115px}}@media screen and (max-width:769px){#main{min-height:100%;padding-left:10px;padding-right:10px;padding-top:50px;width:100%}article{background-color:var(--bg-article-mobile);padding:10px}article .meta{display:none}article h1{font-size:22px;margin:0;padding:5px 0 10px}article .desc{color:var(--text-secondary);font-size:14px}article p.more{font-size:14px;margin:5px 0}}</style>
<style>.error-page{align-items:center;background:#f7f8fb;color:#47494e;display:flex;flex-direction:column;font-family:sans-serif;font-weight:100!important;justify-content:center;inset:0;padding:1rem;position:fixed;text-align:center;z-index:9999;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased}.error-page .error{max-width:450px}.error-page .title{color:#47494e;font-size:1.5rem;margin-bottom:8px;margin-top:15px}.error-page .description{color:#7f828b;line-height:21px;margin-bottom:10px}.error-page a{color:#7f828b!important;text-decoration:none}.error-page .clear-btn{background:#47494e;border:none;border-radius:4px;color:#fff;cursor:pointer;margin-top:20px;padding:10px 20px}.error-page .clear-btn:hover{background:#5a5c61}</style>
<style>#__nuxt,.wrapper{height:100%;width:100%}.main{height:100%}.main>article,.main>div,.main>section{border-bottom:0;margin-bottom:-81px;min-height:100%}.main>article:after,.main>div:after,.main>section:after{content:"";display:block;height:81px}.main>#footer{border-top:0;position:relative;z-index:1}.theme-toggle{cursor:pointer}.theme-icon{color:#999;display:inline-block;height:20px;transition:color .2s cubic-bezier(.4,.01,.165,.99);vertical-align:middle;width:20px}.theme-toggle:hover .theme-icon{color:#999c}@media screen and (min-width:769px)and (max-width:1024px){.theme-icon{display:block;margin:0 auto}}</style>
<link rel="stylesheet" href="/_nuxt/style.a0Z2gVFR.css" crossorigin>
<link rel="preload" as="fetch" crossorigin="anonymous" href="/post/accessible-modal/_payload.json?63c49ba2-e9e4-4319-9e10-ed4abebdbc9f">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/YobvFIQM.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/o5HBlCwf.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/lq71kKJi.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Bm2Oy-cY.js">
<script type="module" src="/_nuxt/YobvFIQM.js" crossorigin></script>
<link rel="shortcut icon" href="/favicon.ico">
<meta name="description" content="å…³äºè‡ªå®šä¹‰ Modal çš„ä¸€äº›æ€è€ƒ">
<meta name="keywords" content="åŸåˆ›,JavaScript,ç”¨æˆ·ä½“éªŒ"></head><body><div id="__nuxt"><div class="wrapper"><nav id="sidebar" class="behavior_1"><div class="wrap"><div class="profile"><a href="/" class=""><img src="/imgs/avatar.jpg" alt="æ–‡è”ºçš„åšå®¢"></a><span>æ–‡è”ºçš„åšå®¢</span></div><ul class="buttons"><!--[--><li><a href="/" class="" title="ä¸»é¡µ"><i class="iconfont icon-home"></i><span>Â ä¸»é¡µ</span></a></li><li><a href="/archives" class="" title="å½’æ¡£"><i class="iconfont icon-archive"></i><span>Â å½’æ¡£</span></a></li><li><a href="/slides" class="" title="Slides"><i class="iconfont icon-archive"></i><span>Â Slides</span></a></li><li><a href="/about" class="" title="å…³äº"><i class="iconfont icon-user"></i><span>Â å…³äº</span></a></li><li><a href="/link" class="" title="å…³æ³¨"><i class="iconfont icon-link"></i><span>Â å…³æ³¨</span></a></li><li><a href="/collection" class="" title="æ”¶è—"><i class="iconfont icon-archive"></i><span>Â æ”¶è—</span></a></li><!--]--></ul></div><ul class="buttons"><li><a href="https://github.com/AngusFu/" class="inline" rel="nofollow" target="_blank"><i class="iconfont icon-github-v" title="GitHub"></i></a><!----><!----><a class="inline" href="/atom.xml" target="_blank"><i class="iconfont icon-rss-v" title="RSS"></i></a><a href="/search" class="inline"><i class="iconfont icon-search" title="Search"></i></a><a class="inline theme-toggle" href="#" title="Dark Mode"><svg class="theme-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></a></li></ul></nav><div id="header"><div class="btn-bar"><i></i></div><h1><a href="/" class="">æ–‡è”ºçš„åšå®¢</a></h1><a href="/about/" class="me"><img src="/imgs/avatar.jpg" alt="æ–‡è”ºçš„åšå®¢"></a></div><div id="sidebar-mask" style="display:none;"></div><div id="main" class="main"><!--[--><div id="page-post"><article class="post detail"><div class="meta"><div class="date">2016-12-02</div></div><h1 class="title">å‰ç«¯ç•Œé¢ Modal çš„æ§åˆ¶</h1><div class="entry-content"><!----><!--[--><h2>é—®é¢˜æå‡º</h2><p>éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œé¢˜ç›®ä¸­æ‰€è¯´çš„ Modalï¼ŒæŒ‡çš„æ˜¯æ‰€æœ‰ç”±å‰ç«¯å¼€å‘è€…è‡ªå®šä¹‰çš„å¯¹è¯æ¡†ï¼Œå¦‚é€šå¸¸ç”¨åˆ°çš„ Alertã€Promptã€Confirm ç­‰ç­‰ï¼Œç»å¸¸ä¼´éšç€ä¸€ä¸ªåŠé€æ˜çš„ç°é»‘è‰²å…¨å±€ maskã€‚</p><p>äº‹æƒ…æºè‡ªæŸå¤©ä½¿ç”¨æŸç½‘ç«™çš„é¡µé¢ï¼Œå‡ºç°ä¸€ä¸ªè‡ªå®šä¹‰çš„ Comfirmï¼Œä¹ æƒ¯æ€§æŒ‰ä¸‹å›è½¦ç¡®è®¤ï¼Œç­‰äº†å¾ˆä¹…ä¹Ÿä¸è§å¼¹å‡ºå±‚å…³é—­ã€‚äºæ˜¯å¾ˆç»æœ›ã€‚ç»§è€Œå‘ç°ï¼ŒçœŸä¸æ˜¯è¿™ä¸€ä¸ªç½‘ç«™çš„é—®é¢˜ã€‚</p><p>çœ‹çœ‹ä¸€èˆ¬æµè§ˆå™¨åŸç”Ÿçš„ alertã€promptã€confirm å¯ä»¥å‘ç°ï¼Œå®ƒä»¬åŸºæœ¬ä¸Šéƒ½æä¾›é»˜è®¤æ“ä½œé¡¹ï¼ˆeg.ç¡®è®¤/å–æ¶ˆï¼‰ï¼Œé€šè¿‡å›è½¦é”®å¯ä»¥ç›´æ¥å®Œæˆã€‚ä¼ ç»Ÿè½¯ä»¶å¦‚ PhotoShop ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå¦åˆ™çœŸä¸çŸ¥é‚£äº›æ— éœ€é¼ æ ‡çš„ PS å¤§ç¥æ˜¯æ€æ ·ç»ƒå‡ºæ¥çš„ã€‚ç„¶è€Œä¸å°‘è‡ªå®šä¹‰çš„æ’ä»¶ï¼Œå´å¹¶æœªæä¾›è¿™æ ·çš„åŠŸèƒ½ï¼Œå¾€å¾€ä¸å¾—ä¸å°†æ‰‹æŒªåˆ°é¼ æ ‡æˆ–è§¦æ‘¸æ¿ä¸Šæ“ä½œï¼Œæå…¶ä¸ä¾¿ã€‚</p><p>ä¸»è¦å­˜åœ¨ä¸¤ä¸ªæ–¹é¢çš„é—®é¢˜ï¼Œä¸€æ˜¯æ ¹æœ¬æ— æ³•ç›´æ¥é€šè¿‡é”®ç›˜æ“ä½œå¯¹è¯æ¡†ï¼›äºŒæ˜¯è™½ç„¶å¯ä»¥æ“ä½œï¼Œä½†è§†è§‰æç¤ºå¹¶ä¸æ˜æ˜¾ï¼›ä¸‰æ˜¯æ•´ä¸ªåº”ç”¨å¯¹ç„¦ç‚¹çš„æ§åˆ¶ä¸å¤Ÿï¼Œå®¹æ˜“å¯¼è‡´æˆæœ¬å¯èƒ½æé«˜è¯¯æ“ä½œã€‚ä¸‹é¢å…ˆç®€å•è°ˆè°ˆè¿™å‡ ä¸ªé—®é¢˜ï¼Œç„¶åç»“åˆå®é™…ä¾‹å­è¯´æ˜ã€‚</p><h2>é”®ç›˜ã€é¼ æ ‡åˆ‡æ¢æˆæœ¬</h2><p>å…ˆè°ˆç¬¬ä¸€ä¸ªé—®é¢˜ã€‚é”®ç›˜ã€é¼ æ ‡ä¹‹é—´çš„åˆ‡æ¢æˆæœ¬åº”è¯¥æ˜¯å¾ˆé«˜çš„ï¼Œå°¤å…¶æ˜¯å½“åº”ç”¨å“åº”ä¸ç”¨æˆ·å¿ƒç†é¢„æœŸä¸ç¬¦æ—¶ï¼Œé€ æˆçš„ç„¦è™‘æ„Ÿæˆ–æŒ«è´¥æ„Ÿå¾ˆå½±å“ç”¨æˆ·ä½“éªŒã€‚</p><p>å› æ­¤åœ¨ä½¿ç”¨å¼¹å‡º Modal æ—¶ï¼Œéœ€è¦æ ¹æ®ä¸šåŠ¡åœºæ™¯ï¼Œè®¾ç½®ä¸€ä¸ªé»˜è®¤é€‰é¡¹ï¼ˆå°¤å…¶æ˜¯ç¡®è®¤ã€å–æ¶ˆã€æäº¤ç­‰æ“ä½œï¼‰ï¼Œç”¨æˆ·é€šè¿‡å›è½¦é”®æˆ–é¼ æ ‡ç‚¹å‡»å°±å¯ä»¥è½»æ¾å®Œæˆä»»åŠ¡ã€‚ä¸è¿‡ï¼Œå¦å¤–ä¸€ç§æ›´å¥½çš„æ–¹å¼æ˜¯æä¾› Tab å’Œ (Shift + Tab) ä¸¤ç§æ“ä½œï¼Œé€šè¿‡é”®ç›˜å¯ä»¥è‡ªç”±åœ°åœ¨å¼¹å‡ºå±‚ä¸åŒé€‰é¡¹ä¹‹é—´æŒ‰ç…§é¡ºåºåˆ‡æ¢ã€‚</p><h2>æ˜ç¡®çš„ç„¦ç‚¹æç¤º</h2><p>æ¥ç€è½¬åˆ°ç¬¬äºŒä¸ªï¼Œè§†è§‰æç¤ºçš„é—®é¢˜ã€‚æ²¡æœ‰æ˜ç¡®æ˜¯è§†è§‰æç¤ºï¼Œä¼šé€ æˆç”¨æˆ·çš„ç–‘æƒ‘ã€‚</p><p>æœ‰é»˜è®¤é€‰é¡¹çš„æ—¶å€™ï¼Œæ— è®ºæ˜¯é€šè¿‡é—ªåŠ¨çš„å…‰æ ‡ã€èƒŒæ™¯è‰²çš„å˜åŒ–ï¼Œè¿˜æ˜¯è¾¹æ¡†ã€outline ç­‰å½¢å¼ï¼Œéƒ½éœ€è¦æ˜ç¡®æç¤ºç”¨æˆ·ï¼ŒModal å¼¹å‡ºæ—¶é»˜è®¤æ“ä½œé¡¹æ˜¯ä»€ä¹ˆã€‚è€Œå½“ç”¨æˆ·ä½¿ç”¨é”®ç›˜æ“ä½œï¼Œç„¦ç‚¹å‘ç”Ÿå˜åŒ–åï¼Œå½“å‰ç„¦ç‚¹åœ¨å“ªä¸€é¡¹ä¸Šï¼Œå¿…é¡»ç»™å‡ºæ˜ç¡®çš„è§†è§‰æç¤ºï¼Œå¦åˆ™æå®¹æ˜“å¸¦æ¥å›°éš¾ï¼Œç”šè‡³è¯¯æ“ä½œã€‚</p><h2>åº”ç”¨å¯¹ç„¦ç‚¹çš„æ§åˆ¶</h2><p>ç¬¬ä¸‰ä¸ªé—®é¢˜å®é™…æ˜¯ç¬¬äºŒä¸ªé—®é¢˜çš„å»¶ç»­ã€‚å‰é¢æåˆ°ç„¦ç‚¹çš„è§†è§‰æç¤ºé—®é¢˜ï¼Œå…¶å®è¿˜æœ‰ä¸€ç§å¯èƒ½æ€§ï¼Œå¯èƒ½å¯¼è‡´ä¸¥é‡åæœï¼Œè¿™å°±æ˜¯ç”¨æˆ·é€šè¿‡ Tab æ“ä½œï¼Œå°†ç„¦ç‚¹ç§»åŠ¨åˆ°å¼¹å‡ºå±‚ mask èƒŒåçš„åº”ç”¨ä¸­ã€‚</p><p>è¿™æ—¶å€™ï¼Œä¸€æ–¹é¢æ²¡æœ‰ç»™å‡ºæ¸…æ™°çš„æç¤ºï¼Œä¸€æ–¹é¢æ²¡æœ‰å¯¹ç„¦ç‚¹è¿›è¡Œå¾ˆå¥½çš„æ§åˆ¶ï¼Œä¸‡ä¸€ç„¦ç‚¹åœ¨ä¸€ä¸ªæ•æ„Ÿä½ç½®ï¼ˆå¦‚ä¸€ä¸ªå¤–éƒ¨è·³è½¬é“¾æ¥ï¼‰ï¼ŒæŒ‰ä¸‹å›è½¦é”®ï¼Œè¿™æ—¶å€™é¡µé¢å°†åˆ·æ–°ï¼Œç”¨æˆ·æ­¤å‰çš„æ•°æ®é¢ä¸´è¡ç„¶æ— å­˜çš„å¢ƒåœ°ã€‚è„‘æ´å†å¤§ä¸€ç‚¹ï¼Œä¸‡ä¸€ mask èƒŒåè·å¾—ç„¦ç‚¹çš„æ˜¯å·¨é¢äº¤æ˜“ä¹ƒè‡³æ ¸æŒ‰é’®ï¼ˆ233333ï¼‰ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œæ”»åŸç‹®ç”Ÿæ¶¯å°±æ­¤ç»“æŸã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œå½“ç½‘é¡µå¼¹å‡ºåŸç”Ÿ alert æ—¶ï¼Œæ•´ä¸ªé¡µé¢å…¶ä»–éƒ¨åˆ†å¤„äºä¸å¯æ“ä½œçŠ¶æ€ã€‚ä½¿ç”¨ç±»ä¼¼çš„è‡ªå®šä¹‰ç»„ä»¶æ›¿ä»£è¿™äº›åŠŸèƒ½æ—¶ï¼Œçºµç„¶æˆ‘ä»¬ä¸èƒ½é˜»å¡é¡µé¢å…¶ä»–æ‰€æœ‰éƒ¨åˆ†ï¼Œä½†ä¹Ÿå¾—é‡‡å–ä¸€å®šçš„æ§åˆ¶ï¼Œé˜²æ­¢æ„å¤–å‘ç”Ÿï¼Œæœ€ç®€ä¾¿çš„æ–¹æ³•ä¾¿æ˜¯å°† Tab çš„æ§åˆ¶æƒæŒæ¡åœ¨å¼€å‘è€…æ‰‹ä¸­ã€‚ </p><p>å½“ç„¶ï¼Œç›¸æ¯”äºç¬¬ä¸‰ç‚¹ï¼Œå‰ä¸¤ç‚¹åº”è¯¥æ˜¯å¿…é¡»é¡¹ï¼Œç¬¬ä¸‰é¡¹å¯ä»¥ç®—æ˜¯åŠ åˆ†é¡¹ï¼Œåœ¨ä¸€äº›æ™®é€šåº”ç”¨ä¸­ä¸å®ç°å½±å“ä¹Ÿä¸å¤§ã€‚</p><h2>ä¸¾æ —å­</h2><p>æˆ‘ä»¬æ¥çœ‹ä¸‹ä¸€äº›å®ç°ã€‚</p><p>é¦–å…ˆæ˜¯ Github çš„ Forkã€‚å¦‚å›¾æ‰€ç¤ºï¼š</p><p><img loading="lazy" src="https://ogjiybger.qnssl.com/github.jpg" alt="Github Fork"></p><p>é¦–å…ˆ fork æ“ä½œä¸æä¾›é»˜è®¤é€‰é¡¹ã€‚ä½†ä½¿ç”¨ Tab å’Œ (Shift + Tab) æ—¶ï¼Œç„¦ç‚¹åªä¼šåœ¨æ•´ä¸ªå¼¹å‡ºå±‚ä¸­ç”¨ç´«è‰²æ¡†çº¿æ ‡å‡ºçš„å››ä¸ªéƒ¨åˆ†ä¸­ä¾æ¬¡åˆ‡æ¢ã€‚å›è½¦é”®æŒ‰ä¸‹æ—¶ï¼Œåˆ™ä¼š fork åˆ°ç›¸åº”è´¦å·ï¼Œæˆ–è€…å–æ¶ˆæ“ä½œã€å…³é—­å¼¹å‡ºå±‚ã€‚</p><p>æ¥ç€çœ‹ <a href="http://t4t5.github.io/sweetalert/" target="_blank" rel="noopener">SweetAlert</a>ï¼Œä»¥ç¬¬ä¸€ä¸ª Confirm ä¸ºä¾‹ï¼š</p><p><img loading="lazy" src="https://ogjiybger.qnssl.com/sweet-alert.jpg" alt="SweetAlert"></p><p>Confirm å¼¹å‡ºåï¼Œé»˜è®¤é€‰é¡¹æ˜¯å³è¾¹çš„ â€œYes, delete it!â€ï¼Œç‚¹å‡»å›è½¦é”®ï¼Œå°±ä¼šäº§ç”Ÿç¡®è®¤åé¦ˆã€‚é€šè¿‡ Tab æ“ä½œå‡ æ¬¡å‘ç°ï¼Œæ•´ä¸ªé¡µé¢çš„ç„¦ç‚¹ï¼Œåªèƒ½å¤Ÿåœ¨å›¾ä¸­ä¸¤ä¸ªæŒ‰é’®ä¹‹é—´åˆ‡æ¢ã€‚åŒæ—¶ä»”ç»†è§‚å¯Ÿè¿˜èƒ½ï¼Œè·å¾—ç„¦ç‚¹çŠ¶æ€ï¼ˆ:focusï¼‰çš„æŒ‰é’®ï¼Œä¼šæœ‰ä¸€ä¸ªä¸å¤ªå®¹æ˜“å¯Ÿè§‰çš„ box-shadowã€‚</p><p>å†æ¥çœ‹çœ‹ Vue ç»„ä»¶åº“ Element çš„ <a href="http://element.eleme.io/#/zh-CN/component/message-box" target="_blank" rel="noopener">MessageBox ç»„ä»¶</a> ä¸­çš„ â€œç¡®è®¤æ¶ˆæ¯â€ Demoã€‚</p><p>å…ˆè¯´ç»“æœï¼Œå—¯ï¼Œæœ‰æä¾›é»˜è®¤é€‰é¡¹ï¼Œåˆ‡æ¢åˆ°ä¸åŒé€‰é¡¹æ—¶ï¼Œä¹Ÿä¼šæœ‰è§†è§‰æç¤ºï¼ˆâ€œå–æ¶ˆâ€æŒ‰é’®çš„é¢œè‰²å’Œè¾¹æ¡†è‰²ä¼šå˜ï¼Œâ€œç¡®è®¤â€æŒ‰é’®èƒŒæ™¯äº®åº¦æœ‰æ˜æ˜¾å˜åŒ–ï¼‰ã€‚ç„¶è€Œæœ‰ä¸¤ç‚¹åšå¾—è¿˜ä¸å¤Ÿï¼šç¬¬ä¸€ï¼Œæ— æ³•é€šè¿‡ Tab è½»æ˜“åˆ‡æ¢åˆ°â€œââ€å…³é—­æŒ‰é’®ï¼›ç¬¬äºŒç‚¹ï¼Œä¹Ÿæ˜¯æœ€è‡´å‘½çš„æ˜¯ï¼Œæ ¹æœ¬å°±æ²¡æœ‰è·å–åˆ° Tab çš„æ§åˆ¶æƒï¼Œä»¥è‡³äºå¤šæŒ‰å‡ æ¬¡ Tab ç„¶åå›è½¦ï¼Œé¡µé¢è·³åˆ°ä¸»é¡µï¼Œè€Œå¼¹æ¡†ä¾ç„¶å­˜åœ¨ï¼ˆå¦‚å›¾æ‰€ç¤ºï¼‰ã€‚</p><p><img loading="lazy" src="https://ogjiybger.qnssl.com/element.jpg" alt="Element"></p><p>å’Œ Element ç±»ä¼¼ï¼Œ<a href="https://weui.io/#dialog" target="_blank" rel="noopener">Weui</a> ä¸­çš„ Dialog ä¹Ÿå­˜åœ¨ç±»ä¼¼é—®é¢˜ï¼Œä½† Weui ä¸»è¦é¢å‘ç§»åŠ¨ç«¯ï¼Œå€’ä¹Ÿæƒ…æœ‰å¯åŸã€‚</p><h2>å¦‚ä½•å®ç°æ§åˆ¶</h2><p>ä¸€å¼€å§‹æˆ‘æƒ³åˆ°äº† tabIndex è¿™ä¸ªå±æ€§ã€‚ä½†è¿™è´§æ§åˆ¶èµ·æ¥ï¼Œååˆ†ä¸æ–¹ä¾¿ï¼Œåœ¨æœ¬æ–‡åœºæ™¯ä¸­ä½¿ç”¨å®ƒï¼Œç®€ç›´æ˜¯æƒ¹ç«çƒ§èº«ã€‚</p><p>é‚£ä¹ˆæˆ‘èƒ½æƒ³åˆ°æœ€ç®€å•çš„å®ç°ï¼Œè«è¿‡äºæ‰‹åŠ¨è°ƒç”¨ focus äº‹ä»¶äº†ã€‚<a href="https://jsfiddle.net/wemlin/0yu2y10j/" target="_blank" rel="noopener"> Simple Demo</a> ã€‚ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code class="hljs lang-javascript"><span class="hljs-keyword">var</span> <span class="hljs-title function_">$</span> = (<span class="hljs-params">sel</span>) =&gt; <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(sel);

$(<span class="hljs-string">&#39;#js-show-alert&#39;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#39;click&#39;</span>, <span class="hljs-function">() =&gt;</span> {
  $(<span class="hljs-string">&#39;#js-prompt&#39;</span>).<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&#39;block&#39;</span>;
  $(<span class="hljs-string">&#39;#js-confirm&#39;</span>).<span class="hljs-title function_">focus</span>();
});

$(<span class="hljs-string">&#39;#js-cancel&#39;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#39;click&#39;</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">confirm</span>(<span class="hljs-string">&#39;Are your sure?&#39;</span>)) {
    $(<span class="hljs-string">&#39;#js-prompt&#39;</span>).<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&#39;none&#39;</span>;
  }
});

$(<span class="hljs-string">&#39;#js-confirm&#39;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#39;click&#39;</span>, <span class="hljs-function">() =&gt;</span> {
  $(<span class="hljs-string">&#39;#js-prompt&#39;</span>).<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&#39;none&#39;</span>;
  <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#39;Confirmed! The Prompt will disappear&#39;</span>);
});
</code></pre><p>æ ·å¼æ–¹é¢ï¼ŒæŒ‰é’®ä½¿ç”¨çš„æ˜¯ buttonï¼Œæ•´ä½“å¹¶æœª resetï¼Œæ‰€ä»¥æŒ‰é’®è·å–ç„¦ç‚¹æ—¶ï¼Œæ˜¯æœ‰ outline çš„ã€‚è¿™ä¹Ÿæé†’æˆ‘ä»¬ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ <code>:focus</code> ä¼ªç±»æ¥å®ç° tab é€‰ä¸­æ—¶çš„æ ·å¼ï¼Œè¿™æ ·åšå¥½æ‡‚åˆé è°±ã€‚</p><p>è¿˜å­˜åœ¨å¦å¤–ä¸€ç‚¹é—®é¢˜ï¼Œä¸Šé¢çš„ä»£ç ä¸­ï¼Œ<code>#js-confirm</code> å…ƒç´ æ˜¯é»˜è®¤è·å–ç„¦ç‚¹çš„ã€‚é‚£ä¹ˆï¼Œå‡å¦‚æˆ‘ä»¬ä¸éœ€è¦ä»»ä½•é»˜è®¤ç„¦ç‚¹ï¼Œè€Œåˆéœ€è¦ç”¨æˆ·æŒ‰ä¸‹ Tab æ—¶ï¼Œè®© <code>#js-prompt</code> ä¸­çš„æŒ‰é’®ä¾æ¬¡è·å¾—ç„¦ç‚¹å‘¢ï¼Ÿ</p><p>è¿™é‡Œæä¸€ç‚¹ä¸æˆç†Ÿçš„æƒ³æ³•ï¼ˆ23333333ï¼‰ã€‚åªè¦è®©å®¹å™¨å…ƒç´  <code>#js-prompt</code> è·å¾—ç„¦ç‚¹å³å¯ï¼š<code>$(&#39;#js-prompt&#39;).focus();</code>ã€‚åœ¨æ§åˆ¶å°ä¸Šæ‰“å°ä¸‹ <code>HTMLElement.prototype.focus</code>ï¼Œå°±ä¼šæ˜ç™½æˆ‘çš„æ„æ€äº†ã€‚ä½†è¿™ä¹ˆåšï¼Œå¯èƒ½æ˜¯é‡è·¯å­ï¼ˆæˆ‘è¿˜æ²¡ç»†çœ‹ HTML ä¸­å…ƒç´ è·å¾—ç„¦ç‚¹ç›¸å…³çš„è§„èŒƒï¼‰ã€‚</p><p>ä½†æ˜¯ï¼Œä¸Šé¢ Demo çš„å®ç°ï¼Œæ²¡æœ‰è€ƒè™‘åˆ° Tab æ§åˆ¶æƒçš„æ¥ç®¡ã€‚è¦æ¥ç®¡ Tabï¼Œå°±å¾—ä½¿ç”¨äº‹ä»¶ç»‘å®šæ¥å®Œæˆã€‚ä¸‹é¢çœ‹ä¸‹ Github æ˜¯å¦‚ä½•å®ç°çš„ã€‚</p><h2>å¦‚ä½•å–å¾—æ§åˆ¶æƒ</h2><p>æ‰¾åˆ° Github å¯¹åº”çš„<a href="https://assets-cdn.github.com/assets/github-a61b83eb9eb0770051e9a5edab1cb266b68a3dddc8ad7e1fff0cc2c5f49db9c2.js" target="_blank" rel="noopener">æºç </a>ï¼Œåˆé€šè¿‡å¼€å‘è€…å·¥å…·å‘ç°å¼¹å‡ºå±‚å®¹å™¨æœ‰ä¸ªå€¼ä¸º <code>facebox</code> çš„ idã€‚</p><p>æ¥ä¸‹æ¥ï¼Œå¼€å§‹ Ctrl + F å¤§æ³•ã€‚åˆ©ç”¨é•¿ä¹…ç§¯ç´¯çš„ç«çœ¼é‡‘ç›ï¼Œæ‰¾åˆ°ä¸‹é¢è¿™æ ·ä¸¤æ®µä»£ç ï¼š</p><p><img loading="lazy" src="https://ogjiybger.qnssl.com/github-code.jpg" alt="Github code"></p><p><img loading="lazy" src="https://ogjiybger.qnssl.com/github-code-2.jpg" alt="Github code"></p><p>å°±æ˜¯å®ƒäº†ã€‚</p><p>å…ˆçœ‹ç¬¬äºŒæ®µï¼Œæ•´ç†åå¦‚ä¸‹ï¼Œé‡ç‚¹ç›´æ¥åˆ’åœ¨æ³¨é‡Šä¸­ï¼š</p><pre><code class="hljs lang-javascript">
<span class="hljs-comment">// å¼¹å‡ºå±‚å‡ºç°</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;facebox:reveal&quot;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">var</span> t = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;facebox&quot;</span>);
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    <span class="hljs-title function_">e</span>(t)
  }, <span class="hljs-number">0</span>);

  <span class="hljs-comment">// ä¸º document ç»‘å®š keydown äº‹ä»¶</span>
  <span class="hljs-comment">// äº‹ä»¶å›è°ƒå‡½æ•° n å°±æ˜¯ç¬¬ä¸€å¼ æˆªå›¾çš„å‡½æ•°</span>
  <span class="hljs-title function_">r</span>(<span class="hljs-variable language_">document</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;keydown&quot;</span>, n);
});

<span class="hljs-comment">// å¼¹å‡ºå±‚å…³é—­å</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;facebox:afterClose&quot;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    <span class="hljs-comment">// ç§»é™¤å‡ºç°æ—¶å€™ä¸º document</span>
    <span class="hljs-comment">// ç»‘å®šçš„ keydown äº‹ä»¶</span>
    <span class="hljs-title function_">r</span>(<span class="hljs-variable language_">document</span>).<span class="hljs-title function_">off</span>(<span class="hljs-string">&quot;keydown&quot;</span>, n);

    <span class="hljs-comment">// å¼¹å‡ºä¸­å·²ç»è·å¾—ç„¦ç‚¹çš„å…ƒç´ </span>
    <span class="hljs-comment">// å¼ºè¡Œå¤±å»ç„¦ç‚¹</span>
    <span class="hljs-title function_">r</span>(<span class="hljs-string">&quot;#facebox :focus&quot;</span>).<span class="hljs-title function_">blur</span>()
});

<span class="hljs-comment">// ....</span>
</code></pre><p>å†æ¥çœ‹çœ‹å‡½æ•° n åšäº†ä»€ä¹ˆã€‚</p><pre><code class="hljs lang-javascript">
<span class="hljs-keyword">function</span> <span class="hljs-title function_">n</span>(<span class="hljs-params">e</span>) {
  <span class="hljs-keyword">var</span> t = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>;

  <span class="hljs-comment">// hotkey æ˜¯è‡ªå®šä¹‰çš„</span>
  <span class="hljs-comment">// è¿™é‡Œå¼€å§‹æ§åˆ¶ tab å’Œ shift+tab æ“ä½œ</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-string">&quot;tab&quot;</span> === (t = e.<span class="hljs-property">hotkey</span>) || <span class="hljs-string">&quot;shift+tab&quot;</span> === t) {
    <span class="hljs-comment">// é˜»æ­¢é»˜è®¤äº‹ä»¶</span>
    e.<span class="hljs-title function_">preventDefault</span>();

    <span class="hljs-comment">// å¼¹å‡ºå±‚</span>
    <span class="hljs-keyword">var</span> n = <span class="hljs-title function_">r</span>(<span class="hljs-string">&quot;#facebox&quot;</span>),

      <span class="hljs-comment">// å˜é‡ i å­˜å‚¨å¼¹å‡ºå±‚ä¸­å¯ä»¥è·å¾—ç„¦ç‚¹çš„ã€å¯è§çš„ã€å¯ç”¨çš„</span>
      <span class="hljs-comment">// input, button, .btn, textarea ç­‰å…ƒç´ é›†åˆ</span>
      <span class="hljs-comment">// filter ç”¨åˆ°çš„å‡½æ•° o ç”¨äºè¿‡æ»¤ä¸å¯è§çš„ç›¸å…³å…ƒç´ </span>
      <span class="hljs-comment">// o = require(&quot;github/visible&quot;)[&quot;default&quot;]</span>
      i = <span class="hljs-title function_">r</span>(<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(n.<span class="hljs-title function_">find</span>(<span class="hljs-string">&quot;input, button, .btn, textarea&quot;</span>)).<span class="hljs-title function_">filter</span>(o)).<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
          <span class="hljs-keyword">return</span> !<span class="hljs-variable language_">this</span>.<span class="hljs-property">disabled</span>
      }),

      <span class="hljs-comment">// tab æ–¹å‘</span>
      s = <span class="hljs-string">&quot;shift+tab&quot;</span> === e.<span class="hljs-property">hotkey</span> ? -<span class="hljs-number">1</span> : <span class="hljs-number">1</span>,

      <span class="hljs-comment">// i é›†åˆä¸­å½“å‰è·å¾—ç„¦ç‚¹çš„å…ƒç´ çš„ index</span>
      a = i.<span class="hljs-title function_">index</span>(i.<span class="hljs-title function_">filter</span>(<span class="hljs-string">&quot;:focus&quot;</span>)),

      <span class="hljs-comment">// i é›†åˆä¸­ä¸‹ä¸€ä¸ªè·å¾—ç„¦ç‚¹çš„å…ƒç´ çš„ä½ç½®</span>
      u = a + s;
    
    <span class="hljs-comment">// å¦‚æœä¸‹ä¸€ä¸ªè·å¾—ç„¦ç‚¹çš„ä½ç½®è¶…å‡º i é›†åˆèŒƒå›´</span>
    <span class="hljs-comment">// æˆ–è€…å½“å‰æ²¡æœ‰ä»»ä½•å…ƒç´ è·å¾—ç„¦ç‚¹ã€å¹¶ä¸”ä½¿ç”¨çš„æ˜¯å‘å‰çš„ tab é”®</span>
    <span class="hljs-comment">// åˆ™å°†ç„¦ç‚¹ç½®äº i é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸Š</span>
    <span class="hljs-keyword">if</span> (u === i.<span class="hljs-property">length</span> || -<span class="hljs-number">1</span> === a &amp;&amp; <span class="hljs-string">&quot;tab&quot;</span> === e.<span class="hljs-property">hotkey</span>) {
      i.<span class="hljs-title function_">first</span>().<span class="hljs-title function_">focus</span>()
    }
    <span class="hljs-comment">// å½“å‰æ²¡æœ‰ä»»ä½•å…ƒç´ è·å¾—ç„¦ç‚¹</span>
    <span class="hljs-comment">// å¹¶ä¸”ä½¿ç”¨ shift+tab å‘å‰</span>
    <span class="hljs-comment">// åˆ™å°†ç„¦ç‚¹ç½®äº i é›†åˆä¸­æœ€åä¸€ä¸ªå…ƒç´ </span>
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>ï¼ˆ-<span class="hljs-number">1</span> === aï¼‰{
      i.<span class="hljs-title function_">last</span>().<span class="hljs-title function_">focus</span>();
    }
    <span class="hljs-comment">// æ­£å¸¸è¡Œä¸º</span>
    <span class="hljs-comment">// å°†ç„¦ç‚¹ç½®äºä¸‹ä¸€ä¸ªå…ƒç´ </span>
    <span class="hljs-keyword">else</span> {
      i.<span class="hljs-title function_">get</span>(u).<span class="hljs-title function_">focus</span>();
    }

  }
}
</code></pre><p>å¥½äº†ï¼Œæœ¬æ–‡ä¹Ÿå°±ç»“æŸäº†ã€‚</p><hr><p>å—¯ï¼Œä»Šå¤©ï¼ˆ2016-12-04ï¼‰æˆ‘æƒ³èµ·æ¥é‚£ä¸ªå®Œå…¨æ— æ³•ä½¿ç”¨çš„ä¾‹å­äº† ğŸ™‚ï¼š</p><p><img loading="lazy" src="https://ogjiybger.qnssl.com/wx-pup.jpg" alt="å®ä¾‹"></p><!--]--></div></article><nav class="pagination"><a href="/post/ajax-requests-in-react" class="prev" title="[è¯‘] React ä¸­çš„ AJAX è¯·æ±‚ï¼šè·å–æ•°æ®çš„æ–¹æ³•ä¸æ—¶æœº">Â« [è¯‘] React ä¸­çš„ AJAX è¯·æ±‚ï¼šè·å–æ•°æ®çš„æ–¹æ³•ä¸æ—¶æœº</a><a href="/post/velocity-2016-day-2" class="next" title="ç¬”è®°ï¼švelocity 2016 ç¬¬äºŒå¤©">ç¬”è®°ï¼švelocity 2016 ç¬¬äºŒå¤© Â»</a></nav></div><!--]--><footer id="footer" class="inner"> Â© 2026Â -Â  æ–‡è”ºçš„åšå®¢ <span>Â -Â </span><a href="/" class="">www.wemlion.com</a><br> Powered byÂ <a target="_blank" href="https://nuxt.com">Nuxt 3</a>Â &amp;Â <a target="_blank" rel="nofollow" class="external" href="https://firekylin.org">FireKylin</a></footer></div></div></div><div id="teleports"></div><script>window.__NUXT__={};window.__NUXT__.config={public:{title:"æ–‡è”ºçš„åšå®¢",description:"æ–‡è”ºçš„å‰ç«¯å­¦ä¹ è®°å½•ï¼Œå›½å¤–æŠ€æœ¯æ–‡ç« ç¿»è¯‘ï¼Œä¸ªäººå­¦ä¹ å¿ƒå¾—ç­‰ç­‰è¿™äº›éƒ½ä¼šè®°å½•åœ¨è¿™é‡Œã€‚",favicon:"/img/favicon.ico",site_owner:"æ–‡è”º",hostname:"www.wemlion.com",github_url:"https://github.com/AngusFu/",logo_url:"/imgs/avatar.jpg",navigation:[{url:"/",option:"home",label:"ä¸»é¡µ"},{url:"/archives",option:"archive",label:"å½’æ¡£"},{url:"/slides",option:"archive",label:"Slides"},{url:"/about",option:"user",label:"å…³äº"},{url:"/link",option:"link",label:"å…³æ³¨"},{url:"/collection",option:"archive",label:"æ”¶è—"}],page_size:10,site_url:"https://www.wemlion.com"},app:{baseURL:"/",buildId:"63c49ba2-e9e4-4319-9e10-ed4abebdbc9f",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script>
<script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/post/accessible-modal/_payload.json?63c49ba2-e9e4-4319-9e10-ed4abebdbc9f">[{"state":1,"once":3,"_errors":4,"serverRendered":6,"path":7,"prerenderedAt":8},["Reactive",2],{},["Set"],["ShallowReactive",5],{},true,"/post/accessible-modal",1769689387289]</script></body></html>